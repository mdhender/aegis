#
#	aegis - project change supervisor
#	Copyright (C) 1991-1996, 1999, 2001 Peter Miller;
#	All rights reserved.
#
#	This program is free software; you can redistribute it and/or modify
#	it under the terms of the GNU General Public License as published by
#	the Free Software Foundation; either version 2 of the License, or
#	(at your option) any later version.
#
#	This program is distributed in the hope that it will be useful,
#	but WITHOUT ANY WARRANTY; without even the implied warranty of
#	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#	GNU General Public License for more details.
#
#	You should have received a copy of the GNU General Public License
#	along with this program; if not, write to the Free Software
#	Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111, USA.
#
# MANIFEST: Bourne shell user config for aegis
#
# @configure_input@
#
# Please Note: this file will be over-written by the next installation
# of Aegis.  If you make local modifications, you will need to remember
# to make them again after the next upgrade.
#
# On Linux, or any system using bash (I think), a symlink to this file
# from /etc/profile.d/aegis.sh can be very useful.
#
if test -z "$AEGIS_PATH" -a -d $HOME/lib/aegis/.
then
	AEGIS_PATH=$HOME/lib/aegis
	export AEGIS_PATH
fi

#
# If the user has not set their preferred language, default it to
# English here.  This will give behaviour consistent with previous Aegis
# behaviour.
#
LANGUAGE=${LANGUAGE-en}
export LANGUAGE

#
# Set the MANPATH environment variable to include the Aegis' library
# directory.  This directory contains subdirectories for each of the
# supported languages, structured in such a way that man(1) programs
# which understand the $LANGUAGE environment variable will be able to find
# manual pages in the user's preferred language.
#
if [ "${MANPATH-no}" = "no" ]; then
	if [ "`uname`" = "Linux" ]; then
		MANPATH=`man -w`
	else
		MANPATH=/usr/man
	fi
fi
MANPATH=${MANPATH}:@mandir@:@datadir@
export MANPATH

#
# Set the AEGIS_AUTOMOUNT_POINTS environment variable to the names
# of the directories which the automounter uses to temporarily mount
# file systems.  Use with extreme caution as this distorts Aegis' idea
# of the shape of the filesystem.
#
#	/tmp_mnt is typical of Sun automounters
#	/a is the default for amd, an OpenSource automounter
#	/.automount is typical of amd on Linux
#
# The automounters need to be configured so that the path below the
# automount point is *identical* to the path without it - because all
# Aegis tries to do is remove the automount prefix *if* the file
# stat()s the same with and without it.  This is the default for the
# Sun automounter, but not typical in the examples in the amd user guide.
#
AEGIS_AUTOMOUNT_POINTS="/tmp_mnt:/a:/.automount"
export AEGIS_AUTOMOUNT_POINTS

#
# Each of the Aegis commands has its own alias This is essential for
# aecd, and convenient for the others.  (Splitting Aegis into many
# commands is only efficient if the target system has shared libraries,
# because the size of the common code portion usually greatly exceeds
# the size of the unique portions.)
#
function aeb()
{
	aegis -b "$@" -v
}
function aeca()
{
	aegis -ca "$@" -v
}
function aecd()
{
	cd `aegis -cd "$@" -v`
}
function aechown()
{
	aegis -chown "$@" -v
}
function aeclean()
{
	aegis -clean "$@" -v
}
function aeclone()
{
	aegis -clone "$@" -v
}
function aecp()
{
	aegis -cp "$@" -v
}
function aecpu()
{
	aegis -cpu "$@" -v
}
function aed()
{
	aegis -diff "$@" -v
}
function aedb()
{
	aegis -db "$@" -v
}
function aedbu()
{
	aegis -dbu "$@" -v
}
function aede()
{
	aegis -de "$@" -v
}
function aedeu()
{
	aegis -deu "$@" -v
}
function aedless()
{
	less `find . -type f \( -name "*,D" -o -name ".*,D" \) -print | sort`
}
function aedmore()
{
	more `find . -type f \( -name "*,D" -o -name ".*,D" \) -print | sort`
}
function aedn()
{
	aegis -dn "$@" -v
}
function aeib()
{
	aegis -ib "$@" -v
}
function aeibu()
{
	aegis -ibu "$@" -v
}
function aeifail()
{
	aegis -ifail "$@" -v
}
function aeipass()
{
	aegis -ipass "$@" -v
}
function ael()
{
	aegis -l "$@" -v
}
function aem()
{
	aegis -diff -only_merge "$@" -v
}
function aemv()
{
	aegis -mv "$@" -v
}
function aemvu()
{
	aegis -mvu "$@" -v
}
function aena()
{
	aegis -na "$@" -v
}
function aenbr()
{
	aegis -nbr "$@" -v
}
function aenbru()
{
	aegis -nbru "$@" -v
}
function aenc()
{
	aegis -nc "$@" -v
}
function aencu()
{
	aegis -ncu "$@" -v
}
function aend()
{
	aegis -nd "$@" -v
}
function aenf()
{
	aegis -nf "$@" -v
}
function aenfu()
{
	aegis -nfu "$@" -v
}
function aeni()
{
	aegis -ni "$@" -v
}
function aenpa()
{
	aegis -new-project-alias "$@" -v
}
function aenpr()
{
	aegis -npr "$@" -v
}
function aenrls()
{
	aegis -nrls "$@" -v
}
function aenrv()
{
	aegis -nrv "$@" -v
}
function aent()
{
	aegis -nt "$@" -v
}
function aentu()
{
	aegis -ntu "$@" -v
}
function aepa()
{
	aegis -pa "$@" -v
}
function aepwd()
{
	aegis -Change_Directory "$@" -terse
}
function aeq()
{
	aegis -q "$@" -v
}
function aer()
{
	aereport "$@" -v
}
function aera()
{
	aegis -ra "$@" -v
}
function aerb()
{
	aegis -rb "$@" -v
}
function aerbu()
{
	aegis -rbu "$@" -v
}
function aerd()
{
	aegis -rd "$@" -v
}
function aerfail()
{
	aegis -rfail "$@" -v
}
function aeri()
{
	aegis -ri "$@" -v
}
function aerm()
{
	aegis -rm "$@" -v
}
function aermu()
{
	aegis -rmu "$@" -v
}
function aerpass()
{
	aegis -rpass "$@" -v
}
function aerpa()
{
	aegis -remove-project-alias "$@" -v
}
function aerpu()
{
	aegis -rpu "$@" -v
}
function aermpr()
{
	aegis -rmpr "$@" -v
}
function aerrv()
{
	aegis -rrv "$@" -v
}
function aet()
{
	aegis -t "$@" -v
}
function aev()
{
	aegis -VERSion "$@" -v
}

function ae_c()
{
	AEGIS_CHANGE="$1"
	export AEGIS_CHANGE
}
function ae_p()
{
	AEGIS_PROJECT="$1"
	export AEGIS_PROJECT
}

function aefinish()
{
	unset -f aeb
	unset -f ae_c
	unset -f aeca
	unset -f aecd
	unset -f aechown
	unset -f aeclean
	unset -f aeclone
	unset -f aecp
	unset -f aecpu
	unset -f aed
	unset -f aedb
	unset -f aedbu
	unset -f aede
	unset -f aedeu
	unset -f aedless
	unset -f aedmore
	unset -f aedn
	unset -f aefinish
	unset -f aeib
	unset -f aeibu
	unset -f aeifail
	unset -f aeipass
	unset -f ael
	unset -f aem
	unset -f aemv
	unset -f aemvu
	unset -f aena
	unset -f aenbr
	unset -f aenbru
	unset -f aenc
	unset -f aencu
	unset -f aend
	unset -f aenf
	unset -f aenfu
	unset -f aeni
	unset -f aenpa
	unset -f aenpr
	unset -f aenrls
	unset -f aenrv
	unset -f aent
	unset -f aentu
	unset -f ae_p
	unset -f aepa
	unset -f aeq
	unset -f aer
	unset -f aera
	unset -f aerd
	unset -f aerfail
	unset -f aeri
	unset -f aerm
	unset -f aermpr
	unset -f aermu
	unset -f aerpa
	unset -f aerpass
	unset -f aerpu
	unset -f aerrv
	unset -f aet
	unset AEGIS
	unset AEGIS_PROJECT
	unset AEGIS_CHANGE
	unset AEGIS_PATH
	unset AEGIS_AUTOMOUNT_POINTS
}
