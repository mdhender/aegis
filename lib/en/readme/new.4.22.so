.\"
.\"	aegis - project change supervisor
.\"	Copyright (C) 2006, 2008 Peter Miller
.\"	Copyright (C) 2007, 2008 Walter Franzini
.\"
.\"	This program is free software; you can redistribute it and/or modify
.\"	it under the terms of the GNU General Public License as published by
.\"	the Free Software Foundation; either version 3 of the License, or
.\"	(at your option) any later version.
.\"
.\"	This program is distributed in the hope that it will be useful,
.\"	but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"	GNU General Public License for more details.
.\"
.\"	You should have received a copy of the GNU General Public License
.\"	along with this program.  If not, see
.\"	<http://www.gnu.org/licenses/>.
.\"
.\" you can create the initial cut of this file using the
.\"	aereport -f bl/bl/lib/report/chan_so.rpt -p aegis.4 -c 22 -unf
.\" command, and then editing it to be more appropriate.
.\"
.\" .PP
.\" .if n *
.\" .if t \(bu
.\" .\" Change NN
.\" ------------------------------------------------------------------------
.\" Place new text above this line.
.SS Version 4.22.2 (18-Oct-2007)
.PP
This is an update for the 4.22 stable release, it is meant to help
Aegis users while the next release cycle ends.
. \"
. \" 4.22.C346
. \"
.PP
.if n *
.if t \(bu
[ 1684820 ] Fixed a bug in aeclone that caused aecp -delta segfaults.
. \"
. \" 4.22.C558
. \"
.PP
.if n *
.if t \(bu
The symlink farm now handle derived files registered within Aegis more
like normal derived files.
. \"
. \" 4.22.C154
. \"
.PP
.if n *
.if t \(bu
[ 1697199 ] The change_pconf_get function no longer looks for
historical versions of files, if it can help it.  This makes many
things go faster and solved the problem of configuration fields
redefinition.  While this change does not make Aegis more time safe,
it cures one of the symptoms.
. \"
. \" 4.22.C341
. \"
.PP
.if n *
.if t \(bu
Fixed test 222 to work with recent releases of subversion.
. \"
. \" 4.22.C623
. \"
.PP
.if n *
.if t \(bu
The \f[I]aepconf\f[P](5) man page has been improved.
. \"
. \" 4.22.C624
. \"
.PP
.if n *
.if t \(bu
[ Debian 435422 ] The reference manual was wrongly referring to
-Page-Headings instead of -Page-Header.  The documentation has been
updated to match the source code.
. \"
. \" 4.22.C578
. \"
.PP
.if n *
.if t \(bu
[ 1704108 ] The \f[I]aecp\f[P](1) -delta command now follows the whiteout
preference when copying a "removed"file.
. \"
. \" 4.22.585
. \"
.PP
.if n *
.if t \(bu
[ 1704100 ] A bug has been fixed that caused \f[I]aecp\f[P](1) -delta
X to copy in a change also a file with the old name of a file
\f[I]aemv\f[P](1)ed before delta X.
. \"
. \" 4.22.C582
. \"
.PP
.if n *
.if t \(bu
The generated Makefile now installs \f[I]aelock\f[P](1) with the
correct permissions.
. \"
. \" 4.22.C266
. \"
.PP
.if n *
.if t \(bu
[ 1701701 ] A bug has been fixed in the \f[I]aetar\f[P](1) command, it
no longer creates tarballs that cause BSD and other tar to complain
like this:
tar: End of archive volume 1 reached
tar: Unexpected EOF on archive file
. \"
. \" 4.22.C597
. \"
.PP
.if n *
.if t \(bu
The configure script now handle correctly the datadir substitution.
.SS Version 4.22.1 (14-Apr-2007)
. \"
. \" 4.22.C596
. \"
.PP
.if n *
.if t \(bu
Test t0247a-walt.sh has been fixed, it was not exporting
AEGIS_TEST_DIR.  This make \f[I]aeintegratq\f[P](1) leaving stuff in
the home directory of the user.
. \"
. \" 4.22.C593
. \"
.PP
.if n *
.if t \(bu
Some minor fix that prevented Aegis to build on RPM based
distributions has been fixed.
. \"
. \" 4.22.C592
. \"
.PP
.if n *
.if t \(bu
The t0011a.sh test script failed when \f[I]lex\f[P](1) was missing,
since it is not required to build Aegis the test script has been
modified to pass even when \f[I]lex\f[P](1) is missing.
. \"
. \" 4.22.D036
. \"
.PP
.if n *
.if t \(bu
\f[I]aedist\f[P](1) now handle certain renamed files correctly when
receiving branches or entire-source.
. \"
. \" 4.22.C592
. \"
.PP
.if n *
.if t \(bu
The t0011a.sh test script failed when \f[I]lex\f[P](1) was missing, since
it is not required to build Aegis the test script has been modified to
pass even when \f[I]lex\f[P](1) is missing.
. \"
. \" 4.22.D036
. \"
.PP
.if n *
.if t \(bu
\f[I]aedist\f[P](1) now handle certain renamed files correctly
when receiving branches or entire-source.
. \"
. \" 4.22.D033
. \"
.PP
.if n *
.if t \(bu
[ 1691122 ] Newer versions of the autoconf tools introduced a new
@datarootdir@, and complained loudly if it wasn't used.  Aegis
configure does not trigger anymore those warnings.
. \"
. \" 4.22.D032
. \"
.\" ------------------------------------------------------------------------
.PP
.if n *
.if t \(bu
The test suite does not use anymore \f[I]diff\f[P](1) -u because not
all systems have gnu diff, so the use of gnu diff's -u option is nor
portable, and will give false negatives on some systems.
. \"
. \" 4.22.D030
. \"
.PP
.if n *
.if t \(bu
The test suite does not use anymore \f[I]diff\f[P](1) -u because not all
systems have gnu diff, so the use of gnu diff's -u option is
nor portable, and will give false negatives on some systems.
.PP
.if n *
.if t \(bu
\f[I]aedist\f[P](1) -rec now save the UUID as the user defined
original-UUID if the UUID is already present in the repository.  This
is especially useful when receiving changes in the same repository.
. \"
. \" 4.22.D029
. \"
.PP
.if n *
.if t \(bu
\f[I]aeclone\f[P](1) now preserve the the UUID of the original change
as the original-UUID user defined attribute of the new change. It also
copy any other used-defined attribute.
.\"
.\" 4.22.D028
.\"
.PP
.if n *
.if t \(bu
Test 89 has been disable on HP-UX-10 because that system has a "vendor
specific" (i.e. broken) \f[I]cpio\f[P](1) archive format.
. \"
. \" 4.22.D027
. \"
.PP
.if n *
.if t \(bu
Test 95 has been improved to be less sensitive to
\f[I]libmagic\f[P](3) differences.
.PP
.if n *
.if t \(bu
Test 207 has been changed to be less sensitive to \f[I]sort\f[P](1)
differences.
. \"
. \" 4.22.D026
. \"
.PP
.if n *
.if t \(bu
The project_specific setenv:* variables are now exported only once.
. \"
. \" 4.22.D025
. \"
.PP
.if n *
.if t \(bu
[ 1674882 ] The following bug as been fixed: if a file is created and
renamed within a single branch, and that branch is integrated, then
the file is not included in the output of 'aedist -send -es' from
subsequent branches.
. \"
. \" 4.22.D024
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the \f[I]aedbu\f[P](1) command.  It no longer
complains about permissions when the
\f[I]develop_begin_undo_command\f[P] has been set.
. \"
. \" 4.22.D023
. \"
.PP
.if n *
.if t \(bu
The \f[I]aedist\f[P](1) -rec command now better handles file renamed
(not aemved) to match the local repository state.
. \"
. \" 4.22.D022
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed that caused the \f[I]change_pconf_get\f[P]
function terminate \f[I]aegis\f[P](1) with a fatal error if applied to
a branch without a config file (e.g. if the trunk does not contain any
closed branch).
. \"
. \" 4.22.D021
. \"
.PP
.if n *
.if t \(bu
The \f[I]aenpr(1) -keep\f[P] command now set the administrator
recursively.
. \"
. \" 4.22.D020
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the ${project-specific} substitution, it now
works correctly with the \f[I]aesub\f[P](1) -bl command.
. \"
. \" 4.22.D019
. \"
. \" This was an error on my side.  The same change has been
. \" integrated as 4.22.D011.  The patch for this change set is empty
. \" so it is harmless.  Walter.
. \"
. \" 4.22.D018
. \"
.PP
.if n *
.if t \(bu
\f[I]aedist(1) -received\f[P] has been modified to set the user
defined attribute foreign-copyright to true when receiving a remote
change set.  This in order to avoid \f[I]aede-policy\f[P](1) complain
about incorrect copyright notice at \f[I]aede\f[P](1) time.\n\
. \"
. \" 4.22.D016
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed that caused an \f[I]aemv\f[P](1) followed by an
\f[I]aenf\f[P](1) to generate two different files with the same UUID.
. \"
. \" 4.22.D015
. \"
.PP
.if n *
.if t \(bu
Avoid the "multiple permission set" error on quit.
. \"
. \" 4.22.D014
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the UUID generating code; it was running out
of file descriptors.
. \"
. \" 4.22.D013
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the \f[I]aet\f[P](1) -regression command, it
no longer reports free()ing a non-existent string.
. \"
. \" 4.22.D012
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the \f[I]aed\f[P](1) command, it no longer
reports a bug when a cross branch merge is attempted for a file
independently created in both branches.
. \"
. \" 4.22.D011
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed which caused \f[I]aeipass\f[P](1) to assign UUID
to files at branch integration pass time. This can happen if the files
was created and integrated with an old Aegis release, lacking support
for file's UUID.  This bug make it possible to have the history for a
file split into two part, one accessible via the file_name, the other
accessible using the UUID.
. \"
. \" 4.22.D010
. \"
.PP
.if n *
.if t \(bu
A segfault in \f[I]aeannotate\f[P](1) has been fixed.
. \"
. \" 4.22.D009
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed related to the use of the
\f[I]unchanged_file_integrate_pass_policy=remove\f[P] policy described
in \f[I]aepconf\f[P](5).  In this case aeipass failed to reset the
locked_by field from the project fstate file, this prevented
subsequent changes to modify the removed file.
. \"
. \" 4.22.D007
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the handling of the symlink farm, for
development directory styles which use them for derived files.
Derived files in the baseline directory which were formerly source
files, but then aerm-ed, are now included in the development directory
when copy/link styles are used.
. \"
. \" 4.22.D005
. \"
.PP
.if n *
.if t \(bu
A bug has been fixed in the \f[I]aenf\f[P](1) command; it now
preserves existing file contents if new files already exist in the
file development directory.
. \"
. \" 4.22.D004
. \"
.PP
.if n *
.if t \(bu
.\" Change 123
The ./configure script has been improved to stop with a fatal error if
the bzip2 library is not available.
.SS Version 4.22 (29-Mar-2006)
