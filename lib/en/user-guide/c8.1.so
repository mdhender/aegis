.\"
.\"     aegis - project change supervisor
.\"     Copyright (C) 1993, 2005-2008, 2010, 2012 Peter Miller.
.\"
.\"     This program is free software; you can redistribute it and/or modify
.\"     it under the terms of the GNU General Public License as published by
.\"     the Free Software Foundation; either version 3 of the License, or
.\"     (at your option) any later version.
.\"
.\"     This program is distributed in the hope that it will be useful,
.\"     but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"     GNU General Public License for more details.
.\"
.\"     You should have received a copy of the GNU General Public License
.\"     along with this program. If not, see
.\"     <http://www.gnu.org/licenses/>.
.\"
.nh 2 "Interfacing"
.LP
The diff command is configured by a field of the
project configuration file (\fIaegis.conf\fP).
.nh 3 "diff_command"
.LP
This command is used by
.I aed (1)
to produce a difference listing when file in the development directory
was originally copied from the current version in the baseline\**.
.FS
Or this is logically the case.
.FE
.LP
All of the command substitutions described in
.I aesub (5)
are available.
In addition, the following substitutions are also available:
.IP ${ORiginal}
The absolute path name of a file containing the version originally copied.
Usually in the baseline.
.IP ${Input}
The absolute path name of the edited version of the file.
Usually in the development directory.
.IP ${Output}
The absolute path name of the file in which to write the difference listing.
Usually in the development directory.
.LP
An exit status of 0 means successful,
even of the files differ (and they usually do).
An exit status which is non\[hy]zero means something is wrong.
.LP
The non\[hy]zero exit status may be used to overload this command
with extra tests,
such as line length limits.
The difference files must be produced in addition to these extra tests.
.nh 3 "merge_command"
.LP
This command is used by
.I aed (1)
to produce a difference listing when file in the development directory
is out of date compared to the current version in the baseline.
.LP
All of the command substitutions described in
.I aesub (5)
are available.
In addition, the following substitutions are also available:
.IP ${ORiginal}
The absolute path name of a file containing the version originally copied.
Usually in a temporary file.
.IP ${Most_Recent}
The absolute path name of a file containing the most recent version.
Usually in the baseline.
.IP ${Input}
The absolute path name of the edited version of the file.
Usually in the development directory.
Aegis usually moves the source file aside, so that the output can replace
the source file.
.IP ${Output}
The absolute path name of the file in which to write the difference listing.
Usually in the development directory.
This is usually the name of a change source file.
.LP
An exit status of 0 means successful,
even of the files differ (and they usually do).
An exit status which is non\[hy]zero means something is wrong.
.nh 2 "When No Diff is Required"
.LP
It is possible to configure a project to omit the diff step as
unnecessary, by the following setting:
.E(
diff_command = "exit 0";
.E)
This disables all generation, checking and validation of difference files
for each change source file.  The merge functions of the \fIaediff\fP(1)
command are unaffected by this setting.
.\" vim: set ts=8 sw=4 et :
