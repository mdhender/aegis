.\"
.\"	aegis - project change supervisor
.\"	Copyright (C) 1991, 1992, 1993, 1994, 1998 Peter Miller;
.\"	All rights reserved.
.\"
.\"	This program is free software; you can redistribute it and/or modify
.\"	it under the terms of the GNU General Public License as published by
.\"	the Free Software Foundation; either version 2 of the License, or
.\"	(at your option) any later version.
.\"
.\"	This program is distributed in the hope that it will be useful,
.\"	but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"	GNU General Public License for more details.
.\"
.\"	You should have received a copy of the GNU General Public License
.\"	along with this program; if not, write to the Free Software
.\"	Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111, USA.
.\"
.\" MANIFEST: User Guide, The History Tool
.\"
.bp
.2C
.nh 1 "The History Tool"
.LP
The aegis program is decoupled from the history mechanism.
This allows you to use the history mechanism of your choice,
SCCS or RCS, for example.
You may even wish to write your own.
.LP
The intention of this is that you may use a history mechanism which
suits your special needs,
or the one that comes free with your flavour of 
.UX
operating system.
.LP
The aegis program uses the history mechanism for file
.I history
and so does not require many of the features of SCCS or RCS.
This simplistic approach can sometimes make the interface to these
utilities look a little strange.
.nh 2 "Interfacing"
.LP
The history mechanism interface is found in the
project configuration file called
.I "config" ,
relative to the root of the baseline.
It is a source file and subject to the same controls
as any other source file.
The history fields of the file are described as follows
.nh 3 "history_create_command"
.LP
This field is used to create a new history.
The command is always executed as the project owner.
Substitutions available for the command string are:
.IP ${Input}
absolute path of source file
.IP ${History}
absolute path of history file
.LP
In addition, all substitutions described in \fIaesub\fP(5) are available.
.nh 3 "history_get_command"
.LP
This field is used to get a file from history.
The command may be executed by developers.
Substitutions available for the command string are:
.IP ${History}
absolute path of history file
.IP ${Edit}
edit number, as given by the history_\%get_\%command.
.IP ${Output}
absolute path of destination file
.LP
In addition, all substitutions described in \fIaesub\fP(5) are available.
.nh 3 "history_put_command"
.LP
This field is used to add a new change to the history.
The command is always executed as the project owner.
Substitutions available for the command string are:
.IP ${Input}
absolute path of source file
.IP ${History}
absolute path of history file
.LP
In addition, all substitutions described in \fIaesub\fP(5) are available.
.nh 3 "history_query_command"
.LP
This field is used to query the topmost edit of a history file.
Result to be printed on the standard output.
This command may be executed by developers.
Substitutions available for the command string are:
.IP ${History}
absolute path of history file
.LP
In addition, all substitutions described in \fIaesub\fP(5) are available.
.nh 3 "Quoting Filenames"
.LP
The default setting is for Aegis to reject filenames which contain shell
special characters.  This ensures that filenames may be substituted
into the commands without worrying about whether this is safe.  If you
set the \fIshell_safe_filenames\fP field of the project \fIconfig\fP
file to \f(CWfalse\fP, you will need to surround filenames with the
\f[CW]${quote\fP \fIfilename\fP\f[CW]}\fP substitution.  This will only
quote filenames which actually need to be quoted, so users usually will
not notice.  This command applies to all of the various filenames in
the sections which follow.
.so c3.1.so
.so c3.2.so
.so c3.3.so
